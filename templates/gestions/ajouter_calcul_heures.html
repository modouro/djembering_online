<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire Calcul Heures</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <!-- Triangle 1 -->
    <div class="position-absolute top-0 end-0 border border-0 border-bottom border-primary bg-info" 
        style="width: 0; height: 0; border-width: 0 120px 120px 0;">
    </div>
   <!-- Triangle 2 -->
   <div class="position-absolute top-0 end-0 border border-0 border-bottom border-info" 
       style="width: 0; height: 0; border-width: 0 90px 90px 0; margin-top: 30px;">
    </div>

   <div class="container mt-5">
       <!-- Image centrée -->
       <div class="row my-4 justify-content-center">
           <!-- Conteneur rond bleu pour l'icône -->
           <div class="bg-info rounded-circle d-flex align-items-center justify-content-center mx-auto" 
               style="width: 120px; height: 120px;">
               <i class="bi bi-person-fill text-primary" style="font-size: 5rem;"></i>
           </div>
       </div>
       <div class="row justify-content-center">
           <div class="col-md-4">
               <div class="card shadow-lg">
                   <div class="card-body">
                       <!-- Formulaire avec POST -->
                       <form action="{% url 'add_heure' %}?section={{ section }}" method="POST">
                        {% csrf_token %}   
                            <!-- Nouveau enregistrement : afficher la liste déroulante -->
                             <select name="emploitemps" class="form-control" required>
                                {% if emploitemps %}
                                    {% for emploi in emploitemps %}
                                        <option value="{{ emploi.id }}">
                                            {{ emploi.eleve.niveau }} 
                                        </option>
                                    {% endfor %}
                                {% elif section %}
                                    <!-- Affichage de la section si aucun emploi trouvé mais une section existe -->
                                    <option value="{{ section }}" selected>
                                        {{ section }} ème
                                    </option>
                                {% else %}
                                    <!-- Aucun emploi et aucune section -->
                                    <option value="0" selected disabled>
                                        Aucun emploi du temps disponible
                                    </option>
                                {% endif %}
                            </select>
                        <!-- Champ Heures Dues -->
                        <div class="mb-3">
                            <input type="number" step="0.01" class="form-control" id="heures_dues" name="heures_dues" placeholder="Exemple : 40" required>
                        </div>
                        <!-- Champ Heures Complémentaires -->
                        <div class="mb-3">   
                            <input type="number" step="0.01" class="form-control" id="heures_complementaires" name="heures_complementaires" placeholder="Exemple : 5" required> 
                        </div>
                        <!-- Bouton Soumettre -->
                        <button type="submit" class="btn btn-primary w-100">Enregistrer</button>
                    </form>
                   </div>
               </div>
           </div>
       </div>
   </div>

   <!-- Bootstrap JS et dépendances -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
